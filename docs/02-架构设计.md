# 草莓栽培智能灌溉系统 - 架构设计

## 1. 系统概述
本系统采用模块化的单体架构，通过物联网技术实现对草莓栽培环境的智能监控与自动化灌溉。

## 2. 架构风格
采用模块化的单体架构，选择理由：
- 保证系统功能完整性和模块清晰度
- 最大限度地降低开发、调试与部署的复杂度
- 非常适合单人开发项目

## 3. 模块划分

### 后端核心应用（Spring Boot）
- **认证授权模块**: 用户注册、登录、JWT令牌管理
- **用户管理模块**: 用户信息CRUD、权限分配
- **设备数据模块**: MQTT数据接收、存储处理
- **灌溉控制模块**: 手动控制、自动规则引擎
- **系统管理模块**: 设备管理、系统日志

### 数据存储层
- **PostgreSQL**: 业务数据存储
- **TimescaleDB**: 时序数据存储和查询优化
- **Redis**: 缓存和会话存储

### 外部通信
- **MQTT Broker**: 设备通信桥梁

## 4. 技术架构图

```mermaid
graph TB
    subgraph "前端层"
        A[React Web应用]
        B[React Native移动端]
    end
    
    subgraph "应用层"
        C[Spring Boot应用]
        D[认证授权模块]
        E[业务逻辑模块]
    end
    
    subgraph "数据层"
        F[PostgreSQL]
        G[TimescaleDB]
        H[Redis缓存]
    end
    
    subgraph "通信层"
        I[EMQX MQTT Broker]
    end
    
    A --> C
    B --> C
    C --> D
    C --> E
    E --> F
    E --> G
    C --> H
    E --> I
